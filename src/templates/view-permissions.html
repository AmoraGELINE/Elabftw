{# required vars: rw, can: coming from canread or canwrite with canToHuman filter #}
{% include('permissions-edit-modal.html') %}
<label  class='col-form-label mr-3 edit-mode-label'><i class='fas fa-fw fa-{{ rw == 'canread' ? 'eye' : 'pencil-alt' }} mr-1' title='{{ rw == 'canread' ? 'Visibility'|trans : 'Can write'|trans }}'></i>{{ rw == 'canread' ? 'Visibility'|trans : 'Can write'|trans }}</label>
{% if not Entity.isReadOnly %}
  <div data-action='toggle-modal' data-target='permModal-{{ rw }}'>
    <i class='fas fa-fw fa-square-plus fa-2x'></i>
  </div>
{% endif %}
<div class='vertical-separator'></div>
<div id='{{ rw }}Div'>
  {{ can.base }}
  {% if can.teams %}
    <details><summary>{{ 'Teams'|trans }}</summary>
      <ul>
      {% for team in can.teams %}
        <li>{{ team.name }}</li>
      {% endfor %}
      </ul>
    </details>
  {% endif %}
  {% if can.teamgroups %}
    <details><summary>{{ 'Groups'|trans }}</summary>
      <ul>
      {% for group in can.teamgroups %}
        <li>{{ group.name }}</li>
      {% endfor %}
      </ul>
    </details>
  {% endif %}
  {% if can.users %}
    <details><summary>{{ 'Users'|trans }}</summary>
      <ul>
      {% for user in can.users %}
        <li>{{ user.fullname }}</li>
      {% endfor %}
      </ul>
    </details>
  {% endif %}
</div>
